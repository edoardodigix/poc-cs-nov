<mvc:View xmlns:core="sap.ui.core" controllerName="poccsnov.controller.MainView"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m" xmlns:t="sap.ui.table"
    xmlns:rowmodes="sap.ui.table.rowmodes">
    <Page id="page" title="{i18n>title}" showHeader="false">
        <content>
            <VBox id="main-page-box" class="sapUiSmallMargin">
                <Label id="label-tipologia" text="Tipologia riferimento" design="Bold" />
                <Select id="select-tipologia" forceSelection="false" class="sapUiSmallMarginBottom" change="onSelectChange">
                    <items>
                        <core:Item id="select-item-doc" text="Doc. di spedizione" />
                        <core:Item id="select-item-doc-lotto" text="Doc. di spedizione - Lotto" />
                        <core:Item id="select-item-doc-prodotto" text="Doc. di spedizione - Prodotto" />
                        <core:Item id="select-item-lotto" text="Lotto" />
                        <core:Item id="select-item-ordine" text="Ordine di vendita" />
                        <core:Item id="select-item-prodotto" text="Prodotto" /> 
                    </items>
                </Select>
                
                <Panel id="panel-filtri" expandable="true" expanded="true" headerText="Filtri" visible="false" class="sapUiSmallMarginBottom">
                    <content>
                        <HBox id="filtri-hbox-ext">
                            <HBox id="filtri-hbox-int" width="65%" justifyContent="Start">
                                <VBox id="filtri-vbox-1" class="sapUiLargeMarginEnd">
                                    <Label id="filtri-label-n-odv" text="N. OdV" />
                                    <Input id="filtri-input-n-odv" maxLength="10" liveChange="onInputChange" />
                                </VBox>
                                <VBox id="filtri-vbox-2" class="sapUiLargeMarginEnd">
                                    <Label id="filtri-label-n-oda" text="N. OdA Cliente" />
                                    <Input id="filtri-input-n-oda" maxLength="10" liveChange="onInputChange" />
                                </VBox>
                                <VBox id="filtri-vbox-3" class="sapUiLargeMarginEnd" width="17rem">
                                    <Label id="filtri-label-data" text="Data OdV" />
                                    <DateRangeSelection id="filtri-date" placeholder=" " displayFormat="dd/MM/yyyy" change="onInputChange" />
                                </VBox>
                            </HBox>
                            <VBox id="filtri-vbox-4" justifyContent="End" class="sapUiLargeMarginEnd">
                                <Button id="filtri-btn" icon="sap-icon://search" text="Cerca" press="onCerca" enabled="false"/>
                            </VBox>
                        </HBox>
                    </content>
                </Panel>
                <VBox id="table-odv-vbox" visible="false" class="sapUiSmallMarginBottom">
                    <t:Table id="table-odv" rows="{/data}" class="sapUiSmallMarginBottom" rowSelectionChange="onSelectRow">
                        <t:rowMode>
                            <rowmodes:Fixed id="table-odv-row-mode"></rowmodes:Fixed>
                        </t:rowMode>
                        <t:columns>
                            <t:Column id="table-odv-number">
                                <Label id="table-odv-number-label" text="N. OdV" />
                                <t:template>
                                    <Text id="table-odv-number-text" text="{number}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="table-odv-date">
                                <Label id="table-odv-date-label" text="Data OdV" />
                                <t:template>
                                    <Text id="table-odv-date-text" text="{date}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="table-odv-customernumber">
                                <Label id="table-odv-customernumber-label" text="N. OdA Cliente" />
                                <t:template>
                                    <Text id="table-odv-customernumber-text" text="{customerNumber}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="table-odv-price">
                                <Label id="table-odv-price-label" text="Valore" />
                                <t:template>
                                    <Text id="table-odv-price-text" text="{price}" />
                                </t:template>
                            </t:Column>
                            <t:Column id="table-odv-status">
                                <Label id="table-odv-status-label" text="Stato" />
                                <t:template>
                                    <Text id="table-odv-status-text" text="{status}" />
                                </t:template>
                            </t:Column>
                        </t:columns>
                    </t:Table>
                    <HBox id="hbox-table-odv-btn" justifyContent="End">
                        <Button id="table-odv-btn-reset" text="Reset" class="sapUiSmallMarginEnd" width="5rem" press="onReset" />
                        <Button id="table-odv-btn-seleziona" text="Seleziona" width="5rem" type="Emphasized" enabled="false" press="onSelectButtonPress"/>
                    </HBox>
                </VBox>
                <Panel id="panel-riferimenti" expandable="true" expanded="true" headerText="Riferimenti" visible="false">
                    <content>
                        <t:Table id="table-riferimenti" rows="{/selectedData}" selectionMode="None" class="sapUiMediumMarginBottom">
                            <t:rowMode>
                                <rowmodes:Fixed id="table-riferimenti-row-mode"></rowmodes:Fixed>
                            </t:rowMode>
                            <t:columns>
                                <t:Column id="table-riferimenti-number">
                                    <Label id="table-riferimenti-number-label" text="N. OdV" />
                                    <t:template>
                                        <Text id="table-riferimenti-number-text" text="{number}" />
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-date">
                                    <Label id="table-riferimenti-date-label" text="Date OdV" />
                                    <t:template>
                                        <Text id="table-riferimenti-date-text" text="{date}" />
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-customernumber">
                                    <Label id="table-riferimenti-customernumber-label" text="N. OdA Cliente" />
                                    <t:template>
                                        <Text id="table-riferimenti-customernumber-text" text="{customerNumber}" />
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-price">
                                    <Label id="table-riferimenti-price-label" text="Valore" />
                                    <t:template>
                                        <Text id="table-riferimenti-price-text" text="{price}" />
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-status">
                                    <Label id="table-riferimenti-status-label" text="Stato" />
                                    <t:template>
                                        <Text id="table-riferimenti-status-text" text="{status}" />
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-btn-delete" width="4rem" hAlign="Center">
                                    <t:template>
                                        <Button id="table-riferimenti-delete-btn" icon="sap-icon://delete" press="onDeleteRiferimentiPress"/>
                                    </t:template>
                                </t:Column>
                                <t:Column id="table-riferimenti-btn-pdf" width="4rem" hAlign="Center">
                                    <t:template>
                                        <Button id="table-riferimenti-pdf-btn" icon="sap-icon://inspection" type="Default" press="onOpenPdf" tooltip="Visualizza documento"/>
                                    </t:template>
                                </t:Column>
                            </t:columns>
                        </t:Table>
                        <VBox id="vbox-note">
                            <Label id="label-note" text="Note" design="Bold"/>
                            <TextArea id="text-area-note" ariaLabelledBy="label-note" width="100%" height="8rem" />
                        </VBox>
                    </content>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>
